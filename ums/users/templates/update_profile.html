<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- DJANGO STATIC -->
    {% load static %}
    <!-- CSS -->
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <!-- JQUERY -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- JS -->
    <script>
        function enableEdit() {
            const inputs = document.querySelectorAll(".profile-form input");
            inputs.forEach(input => input.disabled = false);
            document.getElementById("save-btn").disabled = false;
        }
    </script>
    <title>Editar Perfil</title>
</head>
<!-- MAIN CONTAINERS -->
<div class="index-top">
    <div class="logo-img">
        <img src="{% static 'components/logo2.png' %}">
    </div>
    <div class="titles-txt">
        <h1>Perfil de {{ user.username }}</h1>
    </div>
</div>
<!-- BODY CONTAINERS-->
<body>
    <div class="update-profile">
    <form action="{% url 'update_profile' %}" method="post" class="profile-form">
            {% csrf_token %}
        <div class="mb-3 row">
            <label for="email" class="col-sm-3 col-form-label">Email</label>
            <div class="col-sm-9">
                <input type="email" class="form-control" id="email" name="email" value="{{ user.email }}" disabled>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="username" class="col-sm-3 col-form-label">Usuario</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="username" name="username" value="{{ user.username }}" disabled>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="birthdate" class="col-sm-3 col-form-label">Fecha de Nacimiento</label>
            <div class="col-sm-9">
                <input type="date" class="form-control" id="birthdate" name="birthdate" value="{{ user.profile.birthdate }}" disabled>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="country" class="col-sm-3 col-form-label">País</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="country" name="country" value="{{ user.profile.country }}" disabled>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="city" class="col-sm-3 col-form-label">Ciudad</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="city" name="city" value="{{ user.profile.city }}" disabled>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="address" class="col-sm-3 col-form-label">Dirección</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="address" name="address" value="{{ user.profile.address }}" disabled>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="phone_number" class="col-sm-3 col-form-label">Teléfono</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="phone_number" name="phone_number" value="{{ user.profile.phone_number }}" disabled>
            </div>
        </div>
        <button type="button" class="btn btn-secondary" onclick="enableEdit()">Editar Perfil</button>
        <button type="submit" class="btn btn-primary" id="save-btn" disabled>Guardar Cambios</button>
    </form>
    </div>
</body>
</html>